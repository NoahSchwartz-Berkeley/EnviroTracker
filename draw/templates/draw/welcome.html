{% load static %}

<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Homescreen</title>

    <link rel="stylesheet" type="text/css" href="{% static 'draw/vendor/bootstrap/css/bootstrap.min.css' %}">
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Chettan+2&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@1,700&display=swap" rel="stylesheet">

    <script type="text/javascript" src="{% static 'draw/vendor/jquery/jquery-3.3.1.min.js' %}"></script>

    <style type="text/css">
    </style>

    <link rel="icon" type="image/png" href="http://example.com/myicon.png">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

</head>


<style type="text/css">
  
	label {
	    background: #A5D6A7;
	    padding: 0.5rem 1rem;
	    border-radius: 0.5rem;
	}

	body {
	    height: 100vh;
	    margin: 0;
	    display: grid;
	    place-items: center;
	    text-align: center;
	    font: 900 24px/1.4 -system-ui, sans-serif;
	}


    .modal-body{
        text-align: center
    }
</style>

<body>
    <h1>Hello, World!</h1>

    <div class="card my-5">
        <div class="card-body">
            <h1 class="card-title">Company Watchlist</h1>
            <h2 class="card-subtitle mb-2 text-muted">Card subtitle</h2>
            <a href="#" class="card-link float-right">+ See More</a>
        </div>
    </div>


    <div class="card my-5">
        <div class="card-body">
            <h1 class="card-title">Leaderboard Top Movers</h1>
            <h2 class="card-subtitle mb-2 text-muted">Card subtitle</h2>
            <a href="#" class="card-link float-right">+ See More</a>
        </div>
    </div>
    
    <div class="card my-5">
        <div class="card-body">
            <h1 class="card-title">Living a Greener Life:</h1>
            <h2 class="card-subtitle mb-2 text-muted">General Tips</h2>
            <br>
            <div class="row my-2">
                <div class="col-10">
                    <h2 class="card-subtitle mb-2" id='tips1'>Buy from sustainable brands</h2>
                </div>

                <div class="col-2">
                    <button type="button" class="btn btn-dark " id = 'addbtn1' data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="fas fa-plus-circle fa-2x"></i></button>
                </div>
            </div>

            <div class="row my-2">
                <div class="col-10">
                    <h2 class="card-subtitle mb-2" id = "tips2">Go to the carwash instead of washing your car by yourself</h2>
                </div>

                <div class="col-2">
                    <button type="button" class="btn btn-dark" id='addbtn2' data-bs-toggle="modal" data-bs-target="#exampleModal"><i
                            class="fas fa-plus-circle fa-2x"></i></button>
                </div>
            </div>

            <div class="row my-2">
                <div class="col-10">
                    <h2 class="card-subtitle mb-2" id='tips3'>Turn off water when brushing your teeth</h2>
                </div>

                <div class="col-2">
                    <button type="button" class="btn btn-dark" id = 'addbtn3' data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="fas fa-plus-circle fa-2x"></i></button>
                </div>
            </div>


        </div>

        <a href="#" class="card-link float-right">+ See More</a>
    </div>
    </div>

    <nav class="navbar fixed-bottom navbar-light bg-white">
        <div class="col-3 text-center my-2 border-right border-dark">
            <button class="text-center r_home" style="border:none; background:none" onclick="location.href = '/draw/welcome'">
                <i class="fas fa-home fa-5x"></i>
            </button>
        </div>
        <div class="col-3 text-center my-2 border-right border-dark">
            <button class="text-center r_check" style="border:none; background:none" onclick="location.href = '/draw/Checklist'">
                <i class="far fa-check-circle fa-5x"></i>
            </button>
        </div>
        <div class="col-3 text-center my-2 border-right border-dark">
            <button class="text-center" style="border:none; background:none" onclick="location.href = '/draw/Companies'">
                <i class="fas fa-desktop fa-5x"></i>
            </button>
        </div>
        <div class="col-3 text-center my-2">
            <button class="text-center r_leader" style="border:none; background:none"
            onclick="location.href = '/draw/Leaderboard'">
                <i class="fas fa-user-friends fa-5x"></i>
            </button>
        </div>
    </nav>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body">
                <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                    <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
                    <label class="btn btn-outline-primary" for="btnradio1">Daily</label>
                  
                    <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
                    <label class="btn btn-outline-primary" for="btnradio2">Weekly</label>
                  
                    <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
                    <label class="btn btn-outline-primary" for="btnradio3">Monthly</label>
                  </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary changes">Save changes</button>
            </div>
        </div>
        </div>
    </div>

    <script>
        

        console.log('hihi')

        var socket = new WebSocket('ws://' + window.location.host + '/ws/draw');
        var url = window.location.href
        const url2 = new URL(url)

        var types = JSON.parse(sessionStorage.getItem("Type"))
        var dataset = JSON.parse(sessionStorage.getItem("Data"))

        document.getElementById("addbtn1").onclick = function () { 
            document.getElementsByClassName('changes')[0].onclick = function () { send_data1() }
        }
        function send_data1() {
            var data = document.getElementById("tips1").innerHTML
            console.log('hihi1')
            dataset.push(data);
            types.push(0)
            sessionStorage.setItem("Data", JSON.stringify(dataset));
            sessionStorage.setItem("Type", JSON.stringify(types));
           // socket.send("{\"tips\" : " + "\"" + data + "\"" + ", \"type\" : " + 0 + "}")
        }
        document.getElementById("addbtn2").onclick = function () {
            document.getElementsByClassName('changes')[0].onclick = function () { send_data2() }
         }
        function send_data2() {
            var data = document.getElementById("tips2").innerHTML
            console.log('hihi2')
            dataset.push(data);
            types.push(1)
            sessionStorage.setItem("Data", JSON.stringify(dataset));
            sessionStorage.setItem("Type", JSON.stringify(types));
            //socket.send("{\"tips\" : " + "\"" + data + "\"" + ", \"type\" : " + 1 + "}")
        }
        document.getElementById("addbtn3").onclick = function () { 
            document.getElementsByClassName('changes')[0].onclick = function () { send_data3() }
        }
        function send_data3() {
            var data = document.getElementById("tips3").innerHTML
            console.log('hihi3')
            dataset.push(data);
            types.push(2)
            sessionStorage.setItem("Data", JSON.stringify(dataset));
            sessionStorage.setItem("Type", JSON.stringify(types));
            //socket.send("{\"tips\" : " + "\"" + data + "\"" + ", \"type\" : " + 2 + "}")
        }
    </script>

    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <!-- font awesome -->
    <script src="https://kit.fontawesome.com/5476543f0a.js" crossorigin="anonymous"></script>
</body>

</html>